<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Connection</title>
</head>
<body>
    <script>
        // Replace 'ws://localhost:8000/ws/ticwinlose/' with your WebSocket server URL
        const socketUrl = 'ws://localhost:8000/ws/notif/';
        
        // Create a new WebSocket connection
        const socket = new WebSocket(socketUrl);

        // Event handler for successful connection
        socket.onopen = (event) => {
            console.log(`connected ${event}`);
        };

        // Event handler for connection failure or errors
        socket.onerror = (error) => {
            console.log('WebSocket error: ', error);
        };

        socket.onmessage = (message) => {
            console.log(`message received: ${message.data}`)
        };

        socket.addEventListener("open", (event) => {
            const data = {
                "from_user":"iantar",
                "to_user":"kali",
                "status":"",
                "action":"accepted"
            };
            console.log('message send: ', data)
            socket.send(JSON.stringify(data));
        });
        // Optional: Event handler for when the connection is closed
        socket.onclose = (event) => {
            if (!event.wasClean) {
                console.log("Connection closed unexpectedly");
            }
        };
    </script>
</body>
</html>

